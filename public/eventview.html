<!DOCTYPE html>

<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Single Event View</title>
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<style>

.btn-size{
  width: 100px;
  border-radius: 12px;
   background-color: grey;
    border: none;
    color: white;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    -webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.4s;
    cursor: pointer;
    font-family: 'Roboto';
    font-weight: 100;

}

.btn-size:hover {
    background-color: #555555;
    color: white;
    font-weight: 100;
}
.comment{
  font-weight: 100;
  font-size: 17px;
}

#comment{
  font-size: 15px;
  font-weight: 100;

}
#hi{
  font-family: 'Montserrat';
  font-size: 40px;
  background-color: #D8334A;
  color: white;
  font-weight: bold;
}
#hi2{
  font-family: 'Montserrat';
  font-size: 30px;
  background-color: #313335;
  color: white;
  font-weight: bold;
}
#detail{
    font-family: 'Montserrat';
    border:1px solid black;
    border-radius: 5px;
    color: #313335;
    font-size: 14px;


}

</style>

</head>
<body>


  <div id="root"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.12.0/axios.min.js"></script>
  <script src="https://npmcdn.com/babel-core@5.8.38/browser.min.js"></script>


<script type="text/babel">

class EventData extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      users:[],
      count: 0
    };

  }
  componentDidMount() {
    axios
      .get('/api/event/5a84ef6afa7e57067317b2cc')
      .then(response => {
        this.setState({ users: response.data }, function () {
          console.log(this.state.users);
        });
      });
  }

  render() {
    return (

    <center><div id ="detail"> <div id="hi"> {this.state.users.name}</div> < br />
  <font size="4">  <strong>Event Description: </strong> </font><br /> {this.state.users.description} < br /><br />
  <font size="4">       <strong>   Event Location: </strong> </font><br /> {this.state.users.place && this.state.users.place.name} <br /><br />
  <font size="4">     <strong>      Event Categories:  </strong> </font><br /> {this.state.users && this.state.users.categories}<br /><br />
  <font size="4">     <strong>      Event Time & Date </strong>  </font><br /> {this.state.users && this.state.users.event_times&& this.state.users.event_times[0].start_time} figure out how to change to utc?<br />
  < br/><br/><div id="hi2"> Comments</div>
<CommentForm />
     </div></center>
    );
  }
}

class CommentForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {value: 'Comment on this event here'};

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({value: event.target.value});
  }

  handleSubmit(event) {
    alert('A name was submitted: ' + this.state.value);

    fetch('https://mywebsite.com/endpoint/', {
  method: 'POST',
  headers: {
    Accept: 'application/json',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    firstParam: this.state.value,
  }),
});

    event.preventDefault();
  }

  render() {
    return (

<center>    <div class="comment"><br /></div>
      <form onSubmit={this.handleSubmit}>
        <label for='comment'>
                <textarea class="form-control" rows="5" cols ="60" id="comment" input type="text"  value={this.state.value} onChange={this.handleChange} ></textarea>
        </label><br />
   <button type="submit"  className="btn btn-size">Submit</button></form> </center>
    );
  }
}

ReactDOM.render(<div><EventData /></div>, document.getElementById("root"));
</script>



</body>

</html>
